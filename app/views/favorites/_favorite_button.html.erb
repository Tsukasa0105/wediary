<div class="favorite_button">
  <% if current_user.favorite?(memo) %>
    <%= form_with(model: current_user.favorites.find_by(memo_id: memo.id), local: true, method: :delete) do |f| %>
      <%= hidden_field_tag :memo_id, memo.id, id: "memo_id_#{memo.id}" %>
      <%= button_tag type: 'submit', class: 'btn'  do %>
        <i class="fas  fa-lg fa-star"></i>
      <% end %>
    <% end %>
  <% else %>
    <%= form_with(model: current_user.favorites.build, local: true) do |f| %>
      <%= hidden_field_tag :memo_id, memo.id, id: "memo_id_#{memo.id}" %>
      <%= button_tag type: 'submit', class: 'btn' do %>
        <i class="far fa-lg fa-star"></i>
      <% end %>
    <% end %>
  <% end %>  
</div>